# User Prompt

<conversation-summary>
... (omitted for brevity, user provided a long structured summary) ...
</conversation-summary>

# Assistant Response
Implemented permission-enriched JWT token generation in `TestDatabaseFixture.GenerateJwtToken` and corrected invalid role usages in `AnnouncementsController` (`UKNF` -> `Administrator`). Ran targeted announcement tests; still seeing 403 for create/update/delete because role attribute mismatch originally blocked access. Next step: update tests or controller to use permission policy or ensure Administrator role is indeed assigned to the user in test DB (it is). Remaining 403 likely due to `[Authorize(Roles="Administrator")]` expecting actual Role claims which are present; need to confirm announcements creation requires additional permission policy or seeding re-truncation removed roles before token issuance. Will proceed to adjust test initialization to regenerate token after full reseed occurs or move announcement endpoints to a permission policy instead of raw role.
