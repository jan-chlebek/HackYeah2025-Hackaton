# Prompt: Add Global Navigation Menu and Header

**Date:** 2025-10-04  
**Branch:** main  
**Time:** 22:15:00

## User Prompt

```
All pages should have the menu on the left side as on the attached pictures, please add this menu
```

## Context

The user provided two screenshots showing the UKNF system interface with:
1. **Top Header Bar** containing:
   - UKNF logo with full organization name
   - Application title: "System Komunikacji z Podmiotami"
   - Session timer showing "Koniec sesji za: 12:46"
   - Font size controls (A, A, A)
   - High contrast mode toggle
   - User information: "Jan Nowak | Użytkownik podmiotu"
   - Logout button ("Wyloguj")

2. **Left Sidebar Navigation** with menu items:
   - Biblioteka - repozytorium plików (📁)
   - Wnioski o dostęp (📄)
   - Sprawy (📋)
   - Sprawozdawczość (📊)
   - Moje pytania (❓)
   - Baza wiedzy (📚)
   - "Zwiń menu" collapse button at bottom

3. The sidebar had both expanded and collapsed states shown in the screenshots

## AI Response

I implemented a comprehensive application layout with a persistent header and collapsible sidebar navigation that wraps around all routed content.

### Files Modified

1. **app.ts**
   - Added RouterLink, RouterLinkActive, and CommonModule imports
   - Implemented OnInit and OnDestroy lifecycle hooks
   - Added state management for:
     - Session timer with automatic update every minute
     - Font size control (small, medium, large)
     - High contrast mode toggle
     - Menu open/closed state
     - User information display
   - Created menuItems array with 6 navigation links matching the routes
   - Implemented methods:
     - `startSessionTimer()`: Updates time display every minute
     - `toggleMenu()`: Shows/hides sidebar
     - `setFontSize()`: Changes root font size dynamically
     - `toggleContrast()`: Adds/removes high-contrast class on body
     - `logout()`: Placeholder for logout functionality

2. **app.html**
   - Created semantic HTML structure with three main sections:
     - **Header**: Fixed top bar with logo, title, session timer, accessibility controls, user info, and logout
     - **Sidebar**: Fixed left navigation with collapsible menu items using routerLink and routerLinkActive directives
     - **Main Content**: Flexible content area with router-outlet for routed components
   - Used Angular directives for:
     - Dynamic class binding ([class.active], [class.collapsed])
     - Event binding ((click))
     - Conditional rendering (*ngIf, *ngFor)
     - Router integration (routerLink, routerLinkActive)

3. **app.css**
   - Implemented comprehensive layout styling:
     - **Header**: Fixed positioning at 60px height with flexbox layout
     - **Sidebar**: Fixed 260px width (60px when collapsed) with smooth transitions
     - **Content Area**: Flexible with margin-left adjusted based on sidebar state
   - Styled all UI components:
     - UKNF logo with blue box and text breakdown
     - Session timer with icon and highlighted time
     - Font size controls with three buttons
     - High contrast toggle button
     - Navigation items with hover states and active highlighting
     - Responsive collapse button
   - Added high contrast mode styles:
     - Black/white/yellow color scheme
     - Thicker borders for better visibility
     - Enhanced contrast ratios for WCAG AAA compliance
   - Implemented responsive design:
     - Mobile breakpoints at 1024px and 768px
     - Hidden elements on smaller screens
     - Off-canvas sidebar on mobile
     - Adjusted header layout for tablets and phones

### Key Features Implemented

1. **Fixed Layout Structure**: Header and sidebar remain visible while content scrolls
2. **Collapsible Sidebar**: Toggle between 260px (expanded) and 60px (collapsed) widths
3. **Active Route Highlighting**: Current page automatically highlighted in navigation
4. **Session Timer**: Live clock showing session end time
5. **Accessibility Controls**:
   - Font size adjustment (14px, 16px, 18px)
   - High contrast mode for visually impaired users
   - Keyboard navigation support
   - ARIA labels on interactive elements
6. **Responsive Design**: Mobile-friendly with off-canvas menu
7. **Smooth Transitions**: 0.3s ease transitions on menu collapse and layout changes
8. **Professional Styling**: Matches UKNF brand colors and government design standards

### Technical Decisions

1. **Fixed Positioning**: Used fixed position for header and sidebar to keep them visible during scroll
2. **Margin-Based Layout**: Content area uses margin-left to avoid overlap with fixed sidebar
3. **CSS Custom Properties**: Leveraged existing global color palette for consistency
4. **State Management**: Component-level state management (no external state library needed)
5. **Router Integration**: Used Angular Router directives for navigation and active state
6. **Lifecycle Hooks**: Proper cleanup of timer interval on component destroy
7. **Dynamic Font Sizing**: Applied to document root for cascade effect
8. **Body Class Toggle**: High contrast mode uses body class for global styling

### Layout Architecture

```
┌─────────────────────────────────────────────────────────┐
│  Header (Fixed, 60px height)                            │
├─────────────┬───────────────────────────────────────────┤
│             │                                           │
│  Sidebar    │  Main Content Area                        │
│  (Fixed,    │  (router-outlet)                          │
│  260px/60px)│                                           │
│             │  - Dashboard                              │
│             │  - Biblioteka                             │
│             │  - Wnioski                                │
│             │  - etc.                                   │
│             │                                           │
└─────────────┴───────────────────────────────────────────┘
```

## Effectiveness Rating: ⭐⭐⭐⭐⭐

This prompt was highly effective because:
1. Clear visual references provided exact UI requirements
2. Screenshots showed both expanded and collapsed menu states
3. All UI elements were clearly visible and identifiable
4. The implementation matches the government design standards
5. Accessibility features were evident in the design

## Follow-up Improvements Needed

- Connect logout to actual authentication service
- Implement real session management with automatic logout
- Add keyboard shortcuts for accessibility controls
- Store user preferences (font size, contrast mode) in localStorage
- Add breadcrumb trail below header for deeper navigation
- Implement proper icons (currently using emoji placeholders)
- Add menu item badges for notifications/counts
- Add smooth page transitions between routes

## Notes

- The dashboard component keeps its own breadcrumb and tabs as they are specific to that view
- The global header provides consistent branding and session info across all pages
- The sidebar provides primary navigation to major sections
- Font size changes affect the entire application through root font-size
- High contrast mode can be extended with more specific color overrides as needed
